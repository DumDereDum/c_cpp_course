# Overloading

**[КОД](cpp_examples/Ratioanl)**

Перегрузка операторов в C++ позволяет определить новое поведение для стандартных операторов или создать свои собственные операторы для пользовательских типов данных. Это один из мощных механизмов языка C++, который обеспечивает удобство и гибкость при работе с различными типами данных.

## Стандартные операторы:
В C++ некоторые стандартные операторы могут быть перегружены для пользовательских типов данных, таких как классы или структуры. Примеры стандартных операторов, которые можно перегрузить, включают +, -, *, /, =, ==, !=, <<, >>, и другие.
## Синтаксис перегрузки:
Для перегрузки оператора в C++ используется специальный синтаксис. Например, чтобы перегрузить оператор + для пользовательского класса, можно объявить функцию внутри класса с именем operator+.

```C++
...
Rational operator+(const Rational& other) const;
...
Rational Rational::operator+(const Rational& other) const {
    int num = numerator * other.denominator + other.numerator * denominator;
    int denom = denominator * other.denominator;
    return Rational(num, denom);
}
...
```

## Перегрузка операторов вне класса

Операторы также можно перегружать вне класса, но при этом хотя бы один из их операндов должен быть пользовательским типом данных.

```C++
...
double operator+(double d, const Rational& rational) {
    return d + static_cast<double>(rational);
}
...
```

## Ограничения:

В C++ ограничения на перегрузку операторов существуют для обеспечения безопасности, целостности кода и предотвращения потенциально путаницы в его семантике. Ниже приведены некоторые из основных ограничений перегрузки операторов:

### 1. Нельзя создавать новые операторы:
Перегрузка операторов в C++ позволяет изменять поведение стандартных операторов или расширять их для пользовательских типов данных, но нельзя создавать собственные операторы.

### 2. Нельзя изменять приоритет операторов:
При перегрузке операторов нельзя изменять их приоритет, ассоциативность или количество операндов. Например, нельзя перегрузить оператор + так, чтобы он выполнялся как унарный оператор.

### 3. Операторы, которые нельзя перегружать:
Некоторые операторы нельзя перегружать. Это включает операторы, такие как ::, .*, sizeof, ?:.

### 4. Семантика должна оставаться согласованной:
Перегрузка операторов должна сохранять семантику, присущую стандартным операторам. Например, перегруженный оператор + должен выполнять операцию сложения.

### 5. Нельзя изменять количество операндов:
Перегруженные операторы должны сохранять количество операндов, принятых стандартными операторами. Например, бинарный оператор + должен оставаться бинарным.

### 6. Определенные операторы с фиксированной семантикой:
Некоторые операторы, такие как . и ->, имеют фиксированную семантику и не могут быть перегружены.

### 7. Ограничение на операторы для встроенных типов:
Нельзя перегружать операторы для встроенных типов данных, таких как int, double и т. д. Перегрузка операторов возможна только для пользовательских типов. 

Пример:
```C++
// можно
double operator+(double d, const Rational& rational);

// нельзя
double operator+(double d, int a);
```

## Возвращаемое значение:

Перегруженные операторы могут возвращать любой тип данных, но часто они возвращают значение того же типа, что и операнды.